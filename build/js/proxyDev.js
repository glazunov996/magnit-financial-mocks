!function(){"use strict";const t="https://private-4d06fb-magnit1.apiary-mock.com/";function n(t){return t.json()}function e(t){return fetch(t).then(n)}function o(n){return n.detail?"comparisons"===n.detail?(o=n.dashboard,e(`${t}${o}/comparisons`)):function(n){return e(`${t}${n}/factors`)}(n.dashboard):n.indicator?"export"===n.indicator?function(n){return e(`${t}${n}/export`)}(n.dashboard):function(n){return e(`${t}${n}/indicators`)}(n.dashboard):function(n){return e(`${t}${n}/overview`)}(n.dashboard);var o}function a({detail:t}){return e("https://private-4d06fb-magnit1.apiary-mock.com//meta")}function i({detail:t}){return e("https://private-4d06fb-magnit1.apiary-mock.com//export")}function r({detail:t}){return"remove"===t.action?e("https://private-4d06fb-magnit1.apiary-mock.com//meta/templates/remove"):"add"===t.action?e("https://private-4d06fb-magnit1.apiary-mock.com//meta/templates/add"):e("https://private-4d06fb-magnit1.apiary-mock.com//meta/templates/apply")}function c(t,n="dataresponse"){!function(t,n){const e=new CustomEvent(n,{detail:t});window.dispatchEvent(e)}(t,n)}function d(t){c(t)}function s(t){c(t,"metaresponse")}function u(t){c(t,"exportresponse")}function p(t){c(t,"templateactionresponse")}function m(t){!function(t){const n=new CustomEvent("error",{detail:t});window.dispatchEvent(n)}(t),console.error(t)}function f(t){(function({detail:t}){return o(t)})(t).then(d).catch(m)}function h(t){a(t).then(s).catch(m)}function v(t){i(t).then(u).catch(m)}function w(){r(event).then(p).catch(m)}window.addEventListener("datarequest",f),window.addEventListener("metarequest",h),window.addEventListener("exportrequest",v),window.addEventListener("templateactionrequest",w),function(){const t=new CustomEvent("proxyready");window.dispatchEvent(t)}()}();
